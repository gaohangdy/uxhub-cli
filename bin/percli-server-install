#!/usr/bin/env node
const { getDistroArtifactList } = require('../lib/DistributionHelper')
const { progressDownload } = require('../lib/Download')

async function serverInstall() {

  let distroFiles = await getDistroArtifactList()

  console.log('Fetching core distribution')
  for (url of distroFiles.core) {
    await progressDownload(url)
  }

  console.log('Fetching packages')
  for (url of distroFiles.pkgs) {
    await progressDownload(url)
  }
}

serverInstall()